<!DOCTYPE html>
<html style="background: url(../img/black-background-wood.jpg) center 0 no-repeat; background-size: cover; background-attachment: fixed;">
<head>
    
    <title>Daily Good</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../css/animate.css"/>
    <link rel="stylesheet" type="text/css" href="../css/syntax.css"/>
    <link href="../css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600|Oswald:300,400' rel='stylesheet' type='text/css'>

</head>
<body class="red_color">

	<!-- Wrapper -->
	<div id="wrapper">
		<!-- Main Content -->
		<div id="content">
			<div id="home_page">
				
				<h1 class="page_title color_title"><span>Daily Good</span></h1>
					    		<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="nf">FeelGood</span><span class="o">(</span><span class="n">JSONObject</span> <span class="n">responseJSON</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>

	<span class="c1">// for all requests</span>
	<span class="k">this</span><span class="o">.</span><span class="na">success</span> <span class="o">=</span> <span class="n">responseJSON</span><span class="o">.</span><span class="na">getBoolean</span><span class="o">(</span><span class="s">&quot;success&quot;</span><span class="o">);</span>
	<span class="k">if</span> <span class="o">(!</span><span class="k">this</span><span class="o">.</span><span class="na">success</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">errorMsg</span> <span class="o">=</span> <span class="n">responseJSON</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;error&quot;</span><span class="o">);</span>
	<span class="o">}</span>

	<span class="c1">// request for creating user or retrieving user</span>
	<span class="k">if</span> <span class="o">(</span><span class="n">responseJSON</span><span class="o">.</span><span class="na">has</span><span class="o">(</span><span class="s">&quot;user&quot;</span><span class="o">))</span> <span class="o">{</span>
		<span class="n">JSONObject</span> <span class="n">userJSON</span> <span class="o">=</span> <span class="n">responseJSON</span><span class="o">.</span><span class="na">getJSONObject</span><span class="o">(</span><span class="s">&quot;user&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">__v</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&quot;__v&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">username</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;username&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">hash</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;hash&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">email</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;email&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">_id</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;_id&quot;</span><span class="o">);</span>

		<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">FeelGood</span><span class="o">.</span><span class="na">DailyGood</span><span class="o">&gt;();</span>
		<span class="n">JSONArray</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">userJSON</span><span class="o">.</span><span class="na">getJSONArray</span><span class="o">(</span><span class="s">&quot;dailygoods&quot;</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">DailyGood</span><span class="o">(</span><span class="n">arr</span><span class="o">.</span><span class="na">getJSONObject</span><span class="o">(</span><span class="n">i</span><span class="o">)));</span>
		<span class="o">}</span>

	<span class="o">}</span>

	<span class="c1">// request for creating daily good</span>
	<span class="k">if</span> <span class="o">(</span><span class="n">responseJSON</span><span class="o">.</span><span class="na">has</span><span class="o">(</span><span class="s">&quot;dailygood&quot;</span><span class="o">))</span> <span class="o">{</span>
		<span class="n">JSONObject</span> <span class="n">dailygoodJSON</span> <span class="o">=</span> <span class="n">responseJSON</span><span class="o">.</span><span class="na">getJSONObject</span><span class="o">(</span><span class="s">&quot;dailygood&quot;</span><span class="o">);</span>
		<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">FeelGood</span><span class="o">.</span><span class="na">DailyGood</span><span class="o">&gt;();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">DailyGood</span><span class="o">(</span><span class="n">dailygoodJSON</span><span class="o">));</span>
	<span class="o">}</span>

	<span class="c1">// request for retrieving all daily goods</span>
	<span class="k">if</span> <span class="o">(</span><span class="n">responseJSON</span><span class="o">.</span><span class="na">has</span><span class="o">(</span><span class="s">&quot;dailygoods&quot;</span><span class="o">))</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">FeelGood</span><span class="o">.</span><span class="na">DailyGood</span><span class="o">&gt;();</span>
		<span class="n">JSONArray</span> <span class="n">arr</span> <span class="o">=</span> <span class="n">responseJSON</span><span class="o">.</span><span class="na">getJSONArray</span><span class="o">(</span><span class="s">&quot;dailygoods&quot;</span><span class="o">);</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">arr</span><span class="o">.</span><span class="na">length</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
			<span class="k">this</span><span class="o">.</span><span class="na">dailyGoods</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">DailyGood</span><span class="o">(</span><span class="n">arr</span><span class="o">.</span><span class="na">getJSONObject</span><span class="o">(</span><span class="n">i</span><span class="o">)));</span>
		<span class="o">}</span>
	<span class="o">}</span>

<span class="o">}</span>	    		
</code></pre></div>
				<div class="highlight"><pre><code class="java"><span class="kd">public</span> <span class="kd">static</span> <span class="n">FeelGood</span> <span class="nf">createUser</span><span class="o">(</span><span class="n">String</span> <span class="n">username</span><span class="o">,</span> <span class="n">String</span> <span class="n">password</span><span class="o">,</span> <span class="n">String</span> <span class="n">email</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">JSONException</span> <span class="o">{</span>
	<span class="c1">// String response</span>
	<span class="n">String</span> <span class="n">responseBody</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
	<span class="n">JSONObject</span> <span class="n">responseJSON</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

	<span class="c1">// Create a new HttpClient and Post Header</span>
	<span class="n">HttpClient</span> <span class="n">httpclient</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultHttpClient</span><span class="o">();</span>
	<span class="n">HttpPost</span> <span class="n">httppost</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HttpPost</span><span class="o">(</span><span class="n">CREATE_USER_URL</span><span class="o">);</span>

	<span class="k">try</span> <span class="o">{</span>
		<span class="c1">// Add your data</span>
		<span class="n">List</span><span class="o">&lt;</span><span class="n">NameValuePair</span><span class="o">&gt;</span> <span class="n">nameValuePairs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">NameValuePair</span><span class="o">&gt;(</span><span class="mi">3</span><span class="o">);</span>
		<span class="n">nameValuePairs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">&quot;username&quot;</span><span class="o">,</span> <span class="n">username</span><span class="o">));</span>
		<span class="n">nameValuePairs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">&quot;hash&quot;</span><span class="o">,</span> <span class="n">password</span><span class="o">));</span>
		<span class="n">nameValuePairs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">BasicNameValuePair</span><span class="o">(</span><span class="s">&quot;email&quot;</span><span class="o">,</span> <span class="n">email</span><span class="o">));</span>
		<span class="n">httppost</span><span class="o">.</span><span class="na">setEntity</span><span class="o">(</span><span class="k">new</span> <span class="n">UrlEncodedFormEntity</span><span class="o">(</span><span class="n">nameValuePairs</span><span class="o">));</span>

		<span class="c1">// Execute HTTP Post Request</span>
		<span class="n">org</span><span class="o">.</span><span class="na">apache</span><span class="o">.</span><span class="na">http</span><span class="o">.</span><span class="na">HttpResponse</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpclient</span>
				<span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">httppost</span><span class="o">);</span>
		<span class="n">HttpEntity</span> <span class="n">entity</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">getEntity</span><span class="o">();</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">entity</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">responseBody</span> <span class="o">=</span> <span class="n">EntityUtils</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">entity</span><span class="o">);</span>
			<span class="n">responseJSON</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">responseBody</span><span class="o">);</span>
		<span class="o">}</span>

	<span class="o">}</span> 
	<span class="k">catch</span> <span class="o">(</span><span class="n">ClientProtocolException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span> 
	<span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span> 
	<span class="k">catch</span> <span class="o">(</span><span class="n">JSONException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
	
	<span class="k">return</span> <span class="k">new</span> <span class="nf">FeelGood</span><span class="o">(</span><span class="n">responseJSON</span><span class="o">);</span>
<span class="o">}</span>				
</code></pre></div>

			<br><br>
			</div>
			<!-- /Home page -->
		</div>
		<!-- /Main Content -->

	</div>
	<!-- /Wrapper -->
	
    <script type="text/javascript" src="../js/jquery.min.js"></script>
    <script type="text/javascript" src="../js/sequence.js"></script>
    <script type="text/javascript" src="../js/mixitup.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false"></script>
    <script type="text/javascript" src="../js/scripts.js"></script>

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</body>
</html>